// THIS FILE WAS AUTOGENERATED - ANY EDITS TO THIS WILL BE LOST WHEN IT IS REGENERATED
package {{ .Package }}

import (
	"github.com/relops/sqlc/sqlc"
)

{{ range $_, $t := .Tables }}

type {{ toLower $t.Name }} struct {
	{{ range $_, $f := $t.Fields }}
	{{ toUpper $f.Name }} sqlc.{{ $f.Type }}Field
	{{ end }}
	alias string
}

func (t *{{ toLower $t.Name }}) IsSelectable() {}

func (t *{{ toLower $t.Name }}) Name() string {
	return "{{ toLower $t.Name }}"
}

func (t *{{ toLower $t.Name }}) As(a string) sqlc.Selectable {
	return &{{ toLower $t.Name }}{
		{{ range $_, $f := $t.Fields }}
		{{ toUpper $f.Name }}: t.{{ toUpper $f.Name }},
		{{ end }}
		alias:a,
	}
}

func (t *{{ toLower $t.Name }}) Alias() string {
	return t.alias
}

func (t *{{ toLower $t.Name }}) MaybeAlias() string {
	if t.alias == "" {
		return "{{ toLower $t.Name }}"
	} else {
		return t.alias
	}
}

func (t *{{ toLower $t.Name }}) StringField(name string) sqlc.StringField {
	return sqlc.String({{ toUpper $t.Name }}, "toUpper(name)")
}

func (t *{{ toLower $t.Name }}) Fields() []sqlc.Field {
	return []sqlc.Field{
		{{ range $_, $f := $t.Fields }}
		sqlc.{{ $f.Type }}({{ toUpper $t.Name }}, "{{ toUpper $f.Name }}"),
		{{ end }}
	}
}

{{ end }}

{{ range $_, $t := .Tables }}
var __{{ toLower $t.Name }} = &{{ toLower $t.Name }}{}
var {{ toUpper $t.Name }} = &{{ toLower $t.Name }} {
	
{{ range $_, $f := $t.Fields }}
	{{ toUpper $f.Name }}: sqlc.{{ $f.Type }}(__{{ toLower $t.Name }}, "{{ toUpper $f.Name }}"),
{{ end }}

}


{{ end }}